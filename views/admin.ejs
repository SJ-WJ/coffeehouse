<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Coffee House Orders</title>

  <!--Internal css-->
  <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" type="text/css" />
  <link rel="stylesheet" href="/vendor/border-box.css" type="text/css" />
  <link rel="stylesheet" href="styles/admin-nav.css" type="text/css" />
  <link rel="stylesheet" href="styles/admin-header.css" type="text/css" />
  <link rel="stylesheet" href="styles/admin-footer.css" type="text/css" />
  <link rel="stylesheet" href="styles/admin-body.css" type="text/css" />
  <link rel="stylesheet" href="styles/admin-table.css" type="text/css" />


  <!-- External CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
    integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Mochiy+Pop+One&display=swap" rel="stylesheet">

  <!-- Scripts -->
  <script type="text/javascript" src="/vendor/jquery-3.0.0.js"></script>
  <script type="text/javascript" src="/scripts/app.js"></script>
  <script type="text/javascript" src="/scripts/items_menu.js"></script>
  <!-- <script type="text/javascript" src="/scripts/options_menu.js"></script> -->
  <!-- <script type="text/javascript" src="/database.js"></script> -->
  <!-- <script type="text/javascript" src="admin_orders.js"></script> -->
</head>

<body>
  <nav>
    <div><i class="fa-solid fa-mug-hot"></i> Coffee House</div>
  </nav>
  <h1>Orders</h1>

  <section id="orders-index">
  <div class="orders-table-container">
    <!-- Table of orders -->
    <table class="orders-table">

      <!-- Table header -->
      <thead class="table-header">
        <tr class="table-row">
          <th>Order ID</th>
          <th>Name</th>
          <th>Phone Number</th>
          <th>Items</th>
          <th>Order Date</th>
          <th>Order Ready</th>
          <th></th>
        </tr>
      </thead>

      <!--Table contents-->
      <tbody class="table-contents">
        <% for(const order in orders) { %>
        <tr class="table-row">
          <td><%= orders[order].order_id %></td>
          <td><%= orders[order].name %></td>
          <td><%= orders[order].phone %></td>
          <td><%= orders[order].item_name %> x <%= orders[order].quantity %></td>
          <td><%= new Date(orders[order].order_timestamp).toLocaleString("en-US", { timeZone: 'Canada/Pacific' }) %></td>
          <% if(orders[order].order_ready == false) { %>
          <td><button data-orderphone=<%= orders[order].phone %> data-orderid=<%= orders[order].order_id %> class='confirm-order'>Confirm order</button></td>
          <% } else { %>
            <td><i class="fa-solid fa-check"></i></td>
          <% } %>

        </tr>
        <% } %>
      </tbody>
    </table>
  </div>
</section>
  <footer>
    <div class="div-footer"><i class="fa-solid fa-mug-hot"></i> Coffee House</div>
  </footer>
</body>

